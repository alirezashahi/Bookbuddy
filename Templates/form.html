 {% extends "base.html" %}

{% block title %}BookBuddy - Book Discovery{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
{% endblock %}

{% block content %}
<main>
    <section class="welcome-section">
        <h2>Book Discovery</h2>
        <p>Let's find your perfect next read! Answer a few questions about your preferences, and we'll recommend books tailored just for you.</p>
    </section>

    <section class="form-section">
        <div class="form-container">
            <form id="book-form" action="{{ url_for('recommendation') }}" method="POST">
                <!-- Question 1: Standalone or Series -->
                <div class="question-content active" id="question-1">
                    <h3>Are you looking for a standalone book or a series?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="series" value="Standalone">
                            <span class="option-text">Standalone</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="series" value="Series">
                            <span class="option-text">Series</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 2: Themes -->
                <div class="question-content" id="question-2">
                    <h3>What themes are you interested in?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Adventure">
                            <span class="option-text">Adventure</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Romance">
                            <span class="option-text">Romance</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Mystery">
                            <span class="option-text">Mystery</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Self-growth">
                            <span class="option-text">Self-growth</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 3: Genre -->
                <div class="question-content" id="question-3">
                    <h3>What genres do you feel like reading?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Fantasy">
                            <span class="option-text">Fantasy</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Science Fiction">
                            <span class="option-text">Science Fiction</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Mystery">
                            <span class="option-text">Mystery/Thriller</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Romance">
                            <span class="option-text">Romance</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Historical Fiction">
                            <span class="option-text">Historical Fiction</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Literary Fiction">
                            <span class="option-text">Literary Fiction</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Horror">
                            <span class="option-text">Horror</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Contemporary">
                            <span class="option-text">Contemporary</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Young Adult">
                            <span class="option-text">Young Adult</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Non-fiction">
                            <span class="option-text">Non-fiction</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Biography">
                            <span class="option-text">Biography</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Self-Help">
                            <span class="option-text">Self-Help</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 4: Mood -->
                <div class="question-content" id="question-4">
                    <h3>Whatâ€™s your current mood?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="mood" value="Happy">
                            <span class="option-text">Happy</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="mood" value="Sad">
                            <span class="option-text">Sad</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="mood" value="Curious">
                            <span class="option-text">Curious</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="mood" value="Adventurous">
                            <span class="option-text">Adventurous</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 5: Book Length -->
                <div class="question-content" id="question-5">
                    <h3>What's your ideal book length?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="length" value="short">
                            <span class="option-text">Short (under 300 pages)</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="length" value="medium">
                            <span class="option-text">Medium (300-500 pages)</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="length" value="long">
                            <span class="option-text">Long (over 500 pages)</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="length" value="no_preference">
                            <span class="option-text">No Preference</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 6: Pace -->
                <div class="question-content" id="question-6">
                    <h3>What pace of book do you prefer?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="pace" value="slow">
                            <span class="option-text">Slow & Steady</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="pace" value="moderate">
                            <span class="option-text">Moderate</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="pace" value="fast">
                            <span class="option-text">Fast-paced</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="pace" value="no_preference">
                            <span class="option-text">No Preference</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 7: Languages -->
                <div class="question-content" id="question-7">
                    <h3>Which languages do you read in?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="checkbox" name="preferred_languages" value="english">
                            <span class="option-text">English</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="preferred_languages" value="spanish">
                            <span class="option-text">Spanish</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="preferred_languages" value="french">
                            <span class="option-text">French</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="preferred_languages" value="german">
                            <span class="option-text">German</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 8: Content Maturity -->
                <div class="question-content" id="question-8">
                    <h3>What content maturity level do you prefer?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="maturity_rating" value="NOT_MATURE">
                            <span class="option-text">General Content</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="maturity_rating" value="MATURE">
                            <span class="option-text">Mature Content</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Final: View Recommendations -->
                <div class="question-content" id="recommendations">
                    <h3>Click below to get your personalized book recommendations!</h3>
                    <button type="submit" class="btn btn-primary submit-button">Get My Books</button>
                </div>
            </form>
        </div>
    </section>
</main>
{% endblock %}

{% block extra_js %}
<script src="/static/js/form.js"></script>
{% endblock %}
